<header class="sticky top-0 z-40 border-b bg-white/80 backdrop-blur">
  <nav class="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between">
    <a href="/" class="text-xs sm:text-xl lg:text-xl font-semibold text-primary hover:opacity-90">
      Booking App
    </a>

    <div class="flex items-center gap-3 sm:gap-5">
      <a href="/" class="text-xs sm:text-sm lg:text-xl text-gray-700 hover:text-primary">Accueil</a>

      <% if (session && session.user) { %>

        <a href="/properties" class="text-xs sm:text-sm lg:text-xl text-gray-700 hover:text-primary">Biens</a>
        <a href="/bookings/me" class="text-xs sm:text-sm lg:text-xl text-gray-700 hover:text-primary">Mes réservations</a>
        <a href="/properties/create" class="text-xs sm:text-sm lg:text-xl text-gray-700 hover:text-primary">Ajouter un bien</a>

        <span class="hidden sm:inline-flex items-center gap-2 text-xs text-gray-600">
          <span class="inline-flex size-6 lg:size-8 items-center justify-center rounded-full bg-primary/10 text-primary lg:text-xl font-semibold">
            <%= (session.user.username || '').charAt(0).toUpperCase() %>
          </span>
          <span class="truncate lg:text-xl max-w-40">Connecté : <strong><%= session.user.username %></strong></span>
        </span>

        <form method="post" action="/logout">
          <button
            class="inline-flex items-center rounded-lg bg-primary px-3 py-1.5 text-white text-xs sm:text-sm lg:text-xl font-medium hover:bg-primary/90">
            Se déconnecter
          </button>
        </form>

      <% } else { %>
        
        <a href="/login"
           class="inline-flex items-center rounded-lg bg-primary px-3 py-1.5 text-white text-sm font-medium hover:bg-primary/90">
          Connexion
        </a>
        <a href="/register"
           class="inline-flex items-center rounded-lg border border-primary/30 px-3 py-1.5 text-sm font-medium text-primary hover:bg-primary/5">
          Inscription
        </a>
        
      <% } %>

    </div>
  </nav>
</header>
